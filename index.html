<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0F7B71">
    <title>🥔🐰 감자토끼 가계부</title>
    <meta name="description" content="감자와 토끼가 함께하는 귀여운 가계부 - WCAG AA 접근성 준수">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    
    <!-- CSS -->
    <link rel="stylesheet" href="index-clean.css">
</head>
<body>
    <!-- 헤더 -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="app-title">
                    🥔 감자토끼 가계부 🐰
                </h1>
                <button class="settings-btn" aria-label="설정">
                    ⚙️
                </button>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- 인사말 섹션 -->
        <section class="greeting">
            <div class="character-section">
                <div class="character">
                    <div class="character-emoji">🥔</div>
                    <div class="character-name">감자</div>
                </div>
                <div class="character">
                    <div class="character-emoji">🐰</div>
                    <div class="character-name">토끼</div>
                </div>
            </div>
            
            <div class="greeting-bubble">
                안녕하세요! 오늘도 알뜰하게 관리해보세요 💪
            </div>
        </section>

        <!-- 오늘의 요약 -->
        <section class="summary">
            <h2 class="sr-only">오늘의 요약</h2>
            
            <div class="summary-grid">
                <!-- 현재 잔액 -->
                <div class="summary-card balance-card">
                    <div class="card-header">
                        <span class="card-icon">💰</span>
                        <h3 class="card-title">현재 잔액</h3>
                    </div>
                    <div class="balance-amount">₩1,234,567</div>
                    <div class="balance-change positive">
                        <span>📈</span>
                        <span>이번 주 +5.2%</span>
                    </div>
                </div>

                <!-- 오늘의 수입 -->
                <div class="summary-card income-card">
                    <div class="card-header">
                        <span class="card-icon">🐰</span>
                        <h3 class="card-title">오늘 수입</h3>
                    </div>
                    <div class="income-amount">+₩45,000</div>
                    <div class="transaction-count">3건의 거래</div>
                </div>

                <!-- 오늘의 지출 -->
                <div class="summary-card expense-card">
                    <div class="card-header">
                        <span class="card-icon">🥔</span>
                        <h3 class="card-title">오늘 지출</h3>
                    </div>
                    <div class="expense-amount">-₩32,500</div>
                    <div class="transaction-count">5건의 거래</div>
                </div>
            </div>
        </section>

        <!-- 빠른 액션 -->
        <section class="quick-actions">
            <h2 class="sr-only">빠른 등록</h2>
            
            <div class="actions-grid">
                <button class="action-btn income-btn" onclick="addIncome()">
                    <span class="btn-icon">🐰➕</span>
                    <div class="btn-title">수입 추가</div>
                    <div class="btn-subtitle">토끼와 함께</div>
                </button>

                <button class="action-btn expense-btn" onclick="addExpense()">
                    <span class="btn-icon">🥔➖</span>
                    <div class="btn-title">지출 추가</div>
                    <div class="btn-subtitle">감자와 함께</div>
                </button>

                <button class="action-btn view-all-btn" onclick="viewAll()">
                    <span class="btn-icon">📊</span>
                    <div class="btn-title">전체 보기</div>
                    <div class="btn-subtitle">상세 내역</div>
                </button>
            </div>
        </section>

        <!-- 최근 거래 -->
        <section class="recent-section">
            <div class="section-header">
                <h2 class="section-title">최근 거래</h2>
                <a href="#" class="see-all-link">전체 보기 →</a>
            </div>

            <div class="transaction-list" id="transactionList">
                <!-- 거래 예시 1 -->
                <div class="transaction-item">
                    <div class="transaction-icon income-icon">🐰</div>
                    <div class="transaction-details">
                        <h3 class="transaction-title">용돈</h3>
                        <p class="transaction-category">수입 • 기타</p>
                        <time class="transaction-time">오후 2:30</time>
                    </div>
                    <div class="transaction-amount income">+₩50,000</div>
                </div>

                <!-- 거래 예시 2 -->
                <div class="transaction-item">
                    <div class="transaction-icon expense-icon">🥔</div>
                    <div class="transaction-details">
                        <h3 class="transaction-title">점심 식사</h3>
                        <p class="transaction-category">지출 • 식비</p>
                        <time class="transaction-time">오후 1:00</time>
                    </div>
                    <div class="transaction-amount expense">-₩15,000</div>
                </div>

                <!-- 거래 예시 3 -->
                <div class="transaction-item">
                    <div class="transaction-icon expense-icon">🥔</div>
                    <div class="transaction-details">
                        <h3 class="transaction-title">아메리카노</h3>
                        <p class="transaction-category">지출 • 카페</p>
                        <time class="transaction-time">오전 10:30</time>
                    </div>
                    <div class="transaction-amount expense">-₩5,500</div>
                </div>
            </div>

            <!-- 빈 상태 (예시) -->
            <div class="empty-state hidden" id="emptyState">
                <div class="empty-icon">🥔🐰</div>
                <h3 class="empty-title">아직 거래 내역이 없어요!</h3>
                <p class="empty-description">위의 버튼을 눌러 첫 거래를 추가해보세요</p>
            </div>
        </section>
    </main>

    <!-- 하단 네비게이션 -->
    <nav class="bottom-nav">
        <div class="nav-container">
            <a href="#" class="nav-item active">
                <span class="nav-icon">🏠</span>
                <span class="nav-label">홈</span>
            </a>
            <a href="#" class="nav-item">
                <span class="nav-icon">📋</span>
                <span class="nav-label">거래</span>
            </a>
            <a href="#" class="nav-item">
                <span class="nav-icon">🍽️</span>
                <span class="nav-label">식단</span>
            </a>
            <a href="#" class="nav-item">
                <span class="nav-icon">⚙️</span>
                <span class="nav-label">설정</span>
            </a>
        </div>
    </nav>

    <!-- JavaScript -->
    <script>
        // 🥔🐰 감자토끼 가계부 - 접근성 최적화 버전
        
        function addIncome() {
            // 수입 추가 페이지로 이동
            window.location.href = '/transaction-form.html?type=income';
        }
        
        function addExpense() {
            // 지출 추가 페이지로 이동  
            window.location.href = '/transaction-form.html?type=expense';
        }
        
        function viewAll() {
            // 전체 내역 페이지로 이동
            window.location.href = '/transaction-history.html';
        }
        
        // 페이지 로딩 애니메이션
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🥔🐰 감자토끼 가계부 - WCAG AA 준수 버전 로딩 완료!');
            
            // 카드들에 순차 애니메이션 적용
            const cards = document.querySelectorAll('.summary-card, .transaction-item');
            cards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
            });
        });
        
        // PWA 서비스워커 등록
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('✅ SW registered');
                    })
                    .catch(error => {
                        console.log('❌ SW registration failed');
                    });
            });
        }
    </script>
</body>
</html>