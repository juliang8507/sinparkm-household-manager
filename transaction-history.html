<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#1FC7D4">
    <meta name="color-scheme" content="light dark">
    <title>Í±∞Îûò ÎÇ¥Ïó≠ - Í∞êÏûêÌÜ†ÎÅº Í∞ÄÍ≥ÑÎ∂Ä</title>
    <meta name="description" content="Í∞êÏûêÏôÄ ÌÜ†ÎÅº ÌÖåÎßàÏùò ÏπúÍ∑ºÌïú Í±∞Îûò ÎÇ¥Ïó≠ ÌéòÏù¥ÏßÄ">
    
    <!-- Performance Hints -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="preload" href="icons.svg" as="image" type="image/svg+xml">
    <link rel="preload" href="transaction-history.css" as="style">
    <link rel="preload" href="transaction-history.js" as="script">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;500;600;700&family=Nunito:wght@400;500;600;700&family=Inter:wght@400;500;600&family=Comic+Neue:wght@400;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;500;600;700&family=Nunito:wght@400;500;600;700&family=Inter:wght@400;500;600&family=Comic+Neue:wght@400;700&display=swap"></noscript>
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/tokens.css">
    <link rel="stylesheet" href="css/accessibility.css">
    <link rel="stylesheet" href="css/token-integration.css">
    <link rel="stylesheet" href="css/icon-system.css">
    <link rel="stylesheet" href="css/svg-sprite-animations.css">
    <link rel="stylesheet" href="css/theme-switcher.css">
    <link rel="stylesheet" href="transaction-history.css">
</head>
<body>
    <!-- Skip to Content -->
    <a href="#main-content" class="skip-to-content">Î©îÏù∏ ÏΩòÌÖêÏ∏†Î°ú Í±¥ÎÑàÎõ∞Í∏∞</a>
    <!-- Header Section -->
    <header class="page-header" role="banner">
        <div class="container">
            <div class="header-content">
                <h1 class="page-title">
                    <span class="icon icon-sm title-icon">
                        <svg aria-hidden="true">
                            <use xlink:href="#potato-neutral"></use>
                        </svg>
                    </span>
                    Í±∞Îûò ÎÇ¥Ïó≠
                    <span class="icon icon-sm title-icon">
                        <svg aria-hidden="true">
                            <use xlink:href="#rabbit-neutral"></use>
                        </svg>
                    </span>
                </h1>
            </div>
            
            <!-- Filter Toggle Buttons -->
            <div class="filter-section" role="group" aria-label="Í±∞Îûò ÌïÑÌÑ∞">
                <div class="filter-toggle-group">
                    <button class="filter-button active btn btn-sm transition-button" data-filter="all" aria-pressed="true">
                        <span class="icon icon-xs filter-icon">
                            <svg aria-hidden="true">
                                <use xlink:href="#empty-transactions"></use>
                            </svg>
                        </span>
                        Ï†ÑÏ≤¥
                    </button>
                    <button class="filter-button btn btn-sm transition-button" data-filter="income" aria-pressed="false">
                        <span class="icon icon-xs filter-icon">
                            <svg aria-hidden="true">
                                <use xlink:href="#rabbit-success"></use>
                            </svg>
                        </span>
                        ÏàòÏûÖ
                    </button>
                    <button class="filter-button btn btn-sm transition-button" data-filter="expense" aria-pressed="false">
                        <span class="icon icon-xs filter-icon">
                            <svg aria-hidden="true">
                                <use xlink:href="#potato-warning"></use>
                            </svg>
                        </span>
                        ÏßÄÏ∂ú
                    </button>
                </div>
                
                <!-- User Filter Buttons -->
                <div class="user-filter-group">
                    <button class="user-filter-button active btn btn-sm transition-button" data-user="all" aria-pressed="true">
                        <span class="user-icon">üë´</span>
                        Î™®Îëê
                    </button>
                    <button class="user-filter-button btn btn-sm transition-button" data-user="husband" aria-pressed="false">
                        <span class="user-icon">üë®</span>
                        ÎÇ®Ìé∏
                    </button>
                    <button class="user-filter-button btn btn-sm transition-button" data-user="wife" aria-pressed="false">
                        <span class="user-icon">üë©</span>
                        ÏïÑÎÇ¥
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="main-content" role="main">
        <div class="container">
            <!-- Loading State (hidden by default) -->
            <div class="loading-state" aria-hidden="true" id="loadingState">
                <div class="loading-illustration">
                    <div class="loading-characters">
                        <span class="icon icon-lg loading-potato icon-loading">
                            <svg aria-hidden="true">
                                <use xlink:href="#potato-loading"></use>
                            </svg>
                        </span>
                        <span class="icon icon-lg loading-rabbit icon-loading">
                            <svg aria-hidden="true">
                                <use xlink:href="#rabbit-loading"></use>
                            </svg>
                        </span>
                    </div>
                    <p class="loading-text">Í±∞Îûò ÎÇ¥Ïó≠ÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë...</p>
                </div>
            </div>

            <!-- Empty State (hidden by default) -->
            <div class="empty-state" aria-hidden="true" id="emptyState">
                <div class="empty-state-illustration">
                    <div class="empty-characters">
                        <span class="icon icon-xl empty-potato">
                            <svg aria-hidden="true">
                                <use xlink:href="#potato-info"></use>
                            </svg>
                        </span>
                        <span class="icon icon-xl empty-rabbit">
                            <svg aria-hidden="true">
                                <use xlink:href="#rabbit-info"></use>
                            </svg>
                        </span>
                    </div>
                </div>
                <h2 class="empty-state-title">ÏïÑÏßÅ Í±∞Îûò ÎÇ¥Ïó≠Ïù¥ ÏóÜÏñ¥Ïöî!</h2>
                <p class="empty-state-description">
                    Ï≤´ Î≤àÏß∏ Í±∞ÎûòÎ•º Ï∂îÍ∞ÄÌï¥ÏÑú<br>
                    Í∞êÏûêÌÜ†ÎÅºÏôÄ Ìï®Íªò Í∞ÄÍ≥ÑÎ∂ÄÎ•º ÏãúÏûëÌï¥Î≥¥ÏÑ∏Ïöî
                </p>
                <button class="add-transaction-button">
                    <span class="icon icon-sm button-icon">
                        <svg aria-hidden="true">
                            <use xlink:href="#rabbit-success"></use>
                        </svg>
                    </span>
                    Ï≤´ Í±∞Îûò Ï∂îÍ∞ÄÌïòÍ∏∞
                </button>
            </div>

            <!-- Error State (hidden by default) -->
            <div class="error-state" aria-hidden="true" id="errorState">
                <div class="error-illustration">
                    <div class="error-characters">
                        <span class="icon icon-xl error-potato">
                            <svg aria-hidden="true">
                                <use xlink:href="#potato-error"></use>
                            </svg>
                        </span>
                        <span class="icon icon-xl error-rabbit">
                            <svg aria-hidden="true">
                                <use xlink:href="#rabbit-error"></use>
                            </svg>
                        </span>
                    </div>
                </div>
                <h2 class="error-state-title">Ïïó! Î¨∏Ï†úÍ∞Ä ÏÉùÍ≤ºÏñ¥Ïöî</h2>
                <p class="error-state-description">
                    Í±∞Îûò ÎÇ¥Ïó≠ÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§<br>
                    Ïû†Ïãú ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî
                </p>
                <button class="retry-button">
                    <span class="icon icon-sm button-icon">
                        <svg aria-hidden="true">
                            <use xlink:href="#rabbit-warning"></use>
                        </svg>
                    </span>
                    Îã§Ïãú ÏãúÎèÑÌïòÍ∏∞
                </button>
            </div>

            <!-- Transaction List -->
            <div class="transaction-list" id="transactionList">
                <!-- Today's Transactions -->
                <section class="date-group" aria-labelledby="today-header">
                    <header class="date-group-header">
                        <h2 class="date-group-title" id="today-header">Ïò§Îäò</h2>
                        <div class="daily-total positive" aria-label="Ïò§Îäò Ï¥ù ÏàòÏûÖÏßÄÏ∂ú">
                            +‚Ç©15,000
                        </div>
                    </header>
                    
                    <div class="transaction-items">
                        <!-- Income Transaction -->
                        <article class="transaction-card income" tabindex="0" role="button" aria-label="Ïö©Îèà ÏàòÏûÖ 50000Ïõê">
                            <div class="transaction-icon income-icon" aria-hidden="true">
                                <span class="icon icon-md icon-character">
                                    <svg aria-hidden="true">
                                        <use xlink:href="#rabbit-success"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="transaction-details">
                                <h3 class="transaction-description">Ïö©Îèà</h3>
                                <p class="transaction-category">ÏàòÏûÖ ‚Ä¢ Í∏∞ÌÉÄ</p>
                            </div>
                            <div class="transaction-amount-section">
                                <div class="transaction-amount income">+‚Ç©50,000</div>
                                <div class="transaction-time">Ïò§ÌõÑ 2:30</div>
                            </div>
                        </article>

                        <!-- Expense Transaction -->
                        <article class="transaction-card expense" tabindex="0" role="button" aria-label="Ï†êÏã¨ ÏßÄÏ∂ú 15000Ïõê">
                            <div class="transaction-icon expense-icon" aria-hidden="true">
                                <span class="icon icon-md icon-character">
                                    <svg aria-hidden="true">
                                        <use xlink:href="#potato-neutral"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="transaction-details">
                                <h3 class="transaction-description">Ï†êÏã¨ ÏãùÏÇ¨</h3>
                                <p class="transaction-category">ÏßÄÏ∂ú ‚Ä¢ ÏãùÎπÑ</p>
                            </div>
                            <div class="transaction-amount-section">
                                <div class="transaction-amount expense">-‚Ç©15,000</div>
                                <div class="transaction-time">Ïò§ÌõÑ 1:00</div>
                            </div>
                        </article>

                        <!-- More Expense Transaction -->
                        <article class="transaction-card expense" tabindex="0" role="button" aria-label="Ïª§Ìîº ÏßÄÏ∂ú 5500Ïõê">
                            <div class="transaction-icon expense-icon" aria-hidden="true">
                                <span class="icon icon-md icon-character">
                                    <svg aria-hidden="true">
                                        <use xlink:href="#potato-neutral"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="transaction-details">
                                <h3 class="transaction-description">ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏</h3>
                                <p class="transaction-category">ÏßÄÏ∂ú ‚Ä¢ Ïπ¥Ìéò</p>
                            </div>
                            <div class="transaction-amount-section">
                                <div class="transaction-amount expense">-‚Ç©5,500</div>
                                <div class="transaction-time">Ïò§Ï†Ñ 10:30</div>
                            </div>
                        </article>
                    </div>
                </section>

                <!-- Yesterday's Transactions -->
                <section class="date-group" aria-labelledby="yesterday-header">
                    <header class="date-group-header">
                        <h2 class="date-group-title" id="yesterday-header">Ïñ¥Ï†ú</h2>
                        <div class="daily-total negative" aria-label="Ïñ¥Ï†ú Ï¥ù ÏàòÏûÖÏßÄÏ∂ú">
                            -‚Ç©45,000
                        </div>
                    </header>
                    
                    <div class="transaction-items">
                        <!-- Expense Transaction -->
                        <article class="transaction-card expense" tabindex="0" role="button" aria-label="ÎßàÌä∏ ÏßÄÏ∂ú 32000Ïõê">
                            <div class="transaction-icon expense-icon" aria-hidden="true">
                                <span class="icon icon-md icon-character">
                                    <svg aria-hidden="true">
                                        <use xlink:href="#potato-neutral"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="transaction-details">
                                <h3 class="transaction-description">ÏÉùÌïÑÌíà Íµ¨Îß§</h3>
                                <p class="transaction-category">ÏßÄÏ∂ú ‚Ä¢ ÏÉùÌôúÏö©Ìíà</p>
                            </div>
                            <div class="transaction-amount-section">
                                <div class="transaction-amount expense">-‚Ç©32,000</div>
                                <div class="transaction-time">Ïò§ÌõÑ 7:20</div>
                            </div>
                        </article>

                        <!-- Transportation Expense -->
                        <article class="transaction-card expense" tabindex="0" role="button" aria-label="ÏßÄÌïòÏ≤† ÏßÄÏ∂ú 1300Ïõê">
                            <div class="transaction-icon expense-icon" aria-hidden="true">
                                <span class="icon icon-md icon-character">
                                    <svg aria-hidden="true">
                                        <use xlink:href="#potato-neutral"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="transaction-details">
                                <h3 class="transaction-description">ÏßÄÌïòÏ≤†</h3>
                                <p class="transaction-category">ÏßÄÏ∂ú ‚Ä¢ ÍµêÌÜµÎπÑ</p>
                            </div>
                            <div class="transaction-amount-section">
                                <div class="transaction-amount expense">-‚Ç©1,300</div>
                                <div class="transaction-time">Ïò§Ï†Ñ 9:00</div>
                            </div>
                        </article>

                        <!-- Dinner Expense -->
                        <article class="transaction-card expense" tabindex="0" role="button" aria-label="Ï†ÄÎÖÅ ÏßÄÏ∂ú 12000Ïõê">
                            <div class="transaction-icon expense-icon" aria-hidden="true">
                                <span class="icon icon-md icon-character">
                                    <svg aria-hidden="true">
                                        <use xlink:href="#potato-neutral"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="transaction-details">
                                <h3 class="transaction-description">ÏπòÌÇ®</h3>
                                <p class="transaction-category">ÏßÄÏ∂ú ‚Ä¢ Î∞∞Îã¨ÏùåÏãù</p>
                            </div>
                            <div class="transaction-amount-section">
                                <div class="transaction-amount expense">-‚Ç©12,000</div>
                                <div class="transaction-time">Ïò§ÌõÑ 8:30</div>
                            </div>
                        </article>
                    </div>
                </section>

                <!-- Older Date Group -->
                <section class="date-group" aria-labelledby="december15-header">
                    <header class="date-group-header">
                        <h2 class="date-group-title" id="december15-header">12Ïõî 15Ïùº (Ïùº)</h2>
                        <div class="daily-total positive" aria-label="12Ïõî 15Ïùº Ï¥ù ÏàòÏûÖÏßÄÏ∂ú">
                            +‚Ç©180,000
                        </div>
                    </header>
                    
                    <div class="transaction-items">
                        <!-- Large Income -->
                        <article class="transaction-card income" tabindex="0" role="button" aria-label="Í∏âÏó¨ ÏàòÏûÖ 200000Ïõê">
                            <div class="transaction-icon income-icon" aria-hidden="true">
                                <span class="icon icon-md icon-character">
                                    <svg aria-hidden="true">
                                        <use xlink:href="#rabbit-success"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="transaction-details">
                                <h3 class="transaction-description">ÌîÑÎ¶¨ÎûúÏÑú Í∏âÏó¨</h3>
                                <p class="transaction-category">ÏàòÏûÖ ‚Ä¢ Í∏âÏó¨</p>
                            </div>
                            <div class="transaction-amount-section">
                                <div class="transaction-amount income">+‚Ç©200,000</div>
                                <div class="transaction-time">Ïò§Ï†Ñ 11:00</div>
                            </div>
                        </article>

                        <!-- Bills Expense -->
                        <article class="transaction-card expense" tabindex="0" role="button" aria-label="Ï†ÑÍ∏∞ÏöîÍ∏à ÏßÄÏ∂ú 20000Ïõê">
                            <div class="transaction-icon expense-icon" aria-hidden="true">
                                <span class="icon icon-md icon-character">
                                    <svg aria-hidden="true">
                                        <use xlink:href="#potato-neutral"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="transaction-details">
                                <h3 class="transaction-description">Ï†ÑÍ∏∞ÏöîÍ∏à</h3>
                                <p class="transaction-category">ÏßÄÏ∂ú ‚Ä¢ Í≥µÍ≥ºÍ∏à</p>
                            </div>
                            <div class="transaction-amount-section">
                                <div class="transaction-amount expense">-‚Ç©20,000</div>
                                <div class="transaction-time">Ïò§Ï†Ñ 10:00</div>
                            </div>
                        </article>
                    </div>
                </section>
            </div>

            <!-- Load More Button -->
            <div class="load-more-section">
                <button class="load-more-button">
                    <span class="icon icon-sm button-icon">
                        <svg aria-hidden="true">
                            <use xlink:href="#empty-transactions"></use>
                        </svg>
                    </span>
                    Îçî ÎßéÏùÄ Í±∞Îûò ÎÇ¥Ïó≠ Î≥¥Í∏∞
                </button>
            </div>
        </div>
    </main>

    <!-- Floating Action Button -->
    <button class="floating-add-button" aria-label="ÏÉà Í±∞Îûò Ï∂îÍ∞Ä" title="ÏÉà Í±∞Îûò Ï∂îÍ∞Ä">
        <span class="icon icon-sm fab-icon">
            <svg aria-hidden="true">
                <use xlink:href="#rabbit-success"></use>
            </svg>
        </span>
    </button>

    <!-- JavaScript -->
    <script src="js/icon-helpers.js"></script>
    <script src="js/sprite-animation-helpers.js"></script>
    <script src="js/theme-switcher.js"></script>
    <script src="transaction-history.js"></script>
    
    <!-- PWA Service Worker -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then(registration => {
              console.log('‚úÖ SW registered: ', registration);
            })
            .catch(registrationError => {
              console.log('‚ùå SW registration failed: ', registrationError);
            });
        });
      }
    </script>
</body>
</html>